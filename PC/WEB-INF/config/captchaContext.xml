<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:jee="http://www.springframework.org/schema/jee"
	xmlns:lang="http://www.springframework.org/schema/lang"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
		http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd
		http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
		http://www.springframework.org/schema/task
		http://www.springframework.org/schema/task/spring-task.xsd" default-autowire="byType">
	                                 
	<bean id="capthcaService" class="com.octo.captcha.service.multitype.GenericManageableCaptchaService" scope="singleton">
		<!-- CaptchaEngine -->
		<constructor-arg index="0">
			<ref bean="imageEngine" />
		</constructor-arg>
		<!-- set the minimum delay (in seconds)a client can be assured that a captcha generated by the service can be retrieved and a response to its challenge tested -->
		<constructor-arg index="1">
			<value>180</value>
		</constructor-arg>
		<!--  maxCaptchaStoreSize -->
		<constructor-arg index="2">
			<value>180000</value>
		</constructor-arg>
		<!--  captchaStoreLoadBeforeGarbageCollection -->
		<constructor-arg type="int" index="3" value="75000"/>
	</bean>
	
	<bean id="imageEngine" class="com.octo.captcha.engine.GenericCaptchaEngine">
		<constructor-arg index="0">
			<list>
				<ref bean="CaptchaFactory" />
			</list>
		</constructor-arg>
	</bean>
	
	<bean id="CaptchaFactory" class="com.octo.captcha.image.gimpy.GimpyFactory">
		<constructor-arg>
			<ref bean="wordGenerator" />
		</constructor-arg>
		
		<constructor-arg>
			<ref bean="wordToImage" />
		</constructor-arg>
	</bean>
	
	<bean id="wordGenerator" class="com.octo.captcha.component.word.wordgenerator.DictionaryWordGenerator">
		<constructor-arg>
			<ref bean="EnglishDictionary" />
		</constructor-arg>
	</bean>
	
	<bean id="EnglishDictionary" class="com.octo.captcha.component.word.FileDictionary">
		<constructor-arg index="0">
			<value>toddlist</value>
		</constructor-arg>
	</bean>
	
	<bean id="wordToImage" class="com.octo.captcha.component.image.wordtoimage.ComposedWordToImage">
		<constructor-arg index="0">
			<ref bean="fontSelector" />
		</constructor-arg>
		<constructor-arg index="1">
			<ref bean="imageSize" />
		</constructor-arg>
		<constructor-arg index="2">
			<ref bean="textConfiguration" />
		</constructor-arg>
	</bean>
	
	<bean id="fontSelector" class="com.octo.captcha.component.image.fontgenerator.RandomFontGenerator">
		<!-- font min size -->
		<constructor-arg index="0">
			<value>20</value>
		</constructor-arg>
		<!-- font max size -->
		<constructor-arg index="1">
			<value>40</value>
		</constructor-arg>
		<!-- font style -->
		<constructor-arg index="2">
			<list>
				<ref bean="fontArial" />
			</list>
		</constructor-arg>
	</bean>
	
	<bean id="fontArial" class="java.awt.Font">
		<!-- font name Arial|Monospaced|Serif|SansSerif-->
		<constructor-arg index="0">
			<value>Arial</value>
		</constructor-arg>
		<!-- font style PLAIN|BOLD|ITALIC-->
		<constructor-arg index="1">
			<value>0</value>
		</constructor-arg>
		<!-- font size it's not affected at generated Image by wordToImage-->
		<constructor-arg index="2">
			<value>10</value>
		</constructor-arg>
	</bean>
	
	<bean id="imageSize" class="com.octo.captcha.component.image.backgroundgenerator.UniColorBackgroundGenerator">
		<!-- width -->
		<constructor-arg index="0">
			<value>200</value>
		</constructor-arg>
		<!-- height -->
		<constructor-arg index="1">
			<value>50</value>
		</constructor-arg>
	</bean>
	<!--TextPaster mean to pastes the text on the background -->
	<bean id="textConfiguration" class="com.octo.captcha.component.image.textpaster.SimpleTextPaster">
		<!-- min length -->
		<constructor-arg type="java.lang.Integer" index="0">
			<value>5</value>
		</constructor-arg>
		<!-- max length -->
		<constructor-arg type="java.lang.Integer" index="1">
			<value>8</value>
		</constructor-arg>
		<!-- text color -->
		<constructor-arg type="java.awt.Color" index="2">
			<ref bean="colorRed" />
		</constructor-arg>
	</bean>
	
	<bean id="colorRed" class="java.awt.Color">
		<constructor-arg index="0" type="int">
			<value>153</value>
		</constructor-arg>
		<constructor-arg index="1" type="int">
			<value>0</value>
		</constructor-arg>
		<constructor-arg index="2" type="int">
			<value>0</value>
		</constructor-arg>
		<constructor-arg index="3" type="int">
			<value>255</value>
		</constructor-arg>
	</bean>
	
</beans>
	