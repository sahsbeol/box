<%@page contentType="text/html;charset=utf-8" language="java" pageEncoding="UTF-8"%>
<!-- 태그 라이브러리 -->
<%@ include file="/pages/decorators/biz/tagHeader.jsp" %>
<html>
<head>
<!-- 검색 키워드[보기용] -->
<c:set var="searchTxt" value="${fn:trim(c.searchTerm)}"/>
<c:if test="${not empty c.cmpsr}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.cmpsr}</c:set></c:if>
<c:if test="${not empty c.rcrd_name}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.rcrd_name}</c:set></c:if>
<c:if test="${not empty c.cndtr}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.cndtr}</c:set></c:if>
<c:if test="${not empty c.prfmr_kor}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.prfmr_kor}</c:set></c:if>
<c:if test="${not empty c.vocal}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.vocal}</c:set></c:if>
<c:if test="${not empty c.oscal}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.oscal}</c:set></c:if>
<c:if test="${not empty c.istmt_kor}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.istmt_kor}</c:set></c:if>
<c:if test="${not empty c.label_name}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.label_name}</c:set></c:if>
<c:if test="${not empty c.maker_name}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.maker_name}</c:set></c:if>
<c:if test="${not empty c.jmcode}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.jmcode}</c:set></c:if>
<c:if test="${not empty c.trk_name}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.trk_name}</c:set></c:if>
<c:if test="${not empty c.arti_name}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.arti_name}</c:set></c:if>
<c:if test="${not empty c.drctr}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.drctr}</c:set></c:if>
<c:if test="${not empty c.actor}"><c:set var="searchTxt"><c:if test="${not empty searchTxt}">${searchTxt}, </c:if>${c.actor}</c:set></c:if>
<!-- 검색 키워드[보기용] -->
<title>${searchTxt} - HOTTRACKS</title>
<script type="text/javascript" src="/js/jquery.form.js"></script>
<script type="text/javascript" src="/js/idangerous.swiper.min.js"></script>
<c:set var="_skey_kind">기프트</c:set>
<c:if test="${c.searchMenu eq 'GIFT'}"><c:set var="_skey_kind">기프트</c:set></c:if>
<c:if test="${c.searchMenu eq 'RECORD'}"><c:set var="_skey_kind">음반/영상</c:set></c:if>

<!-- Facebook Pixel Code -->
<script type="text/javascript">
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');

fbq('init', '2595348470556537');
fbq('track', "PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1053245131399072&ev=PageView&noscript=1"/></noscript>
<!-- End Facebook Pixel Code -->

<!--  레코벨 스크립트 -->
<script type="text/javascript">
  var _recoUserId = getCookie('UserCookieKey');

  window._rblq = window._rblq || [];
  _rblq.push(['setVar','cuid','e15e978e-3623-4892-bf0a-485b9f8196ee']);
  _rblq.push(['setVar','device','PW']);
  _rblq.push(['setVar','userId',SHA256(_recoUserId)]); // optional
  _rblq.push(['setVar','searchTerm','${c.searchTerm}']);
  _rblq.push(['track','search']);
  (function(s,x){s=document.createElement('script');s.type='text/javascript';
  s.async=true;s.defer=true;s.src=(('https:'==document.location.protocol)?'https':'http')+'://assets.recobell.io/rblc/js/rblc-apne1.min.js';
  x=document.getElementsByTagName('script')[0];x.parentNode.insertBefore(s, x);})();
</script>
<!--  레코벨 스크립트 끝-->


<!-- Loginside eCommerce (Prouct_Search) v3.0 Start -->
<script language='javascript'>
  var _skey_kind = '${_skey_kind}';  // 검색카테고리
  var _skey = '${c.searchTerm}';  // 검색어
  var _skey_result = '${result.totalSize}';   // 검색결과수
</script>
<!-- Loginside eCommerce (Prouct_Search) v3.0 Start -->
<script type="text/javascript">
isLogin = ${isLogin};
var evtSwiper;

jQuery(function($){
    $(document).ready(function(){
    	console.log("${result}")
        $('#content').addClass('search_wrapper');
		gnb();//gnb
		nav();//nav
		searchFn();//search
		if($('.header_wrap').length >0){
			bodyScroll();//body scroll
		}
        if("${c.searchTerm}" == ""){
            fn_FocusTerm();
        }
        $(".search_brand").hide();
        $($(".brand_ordr li.active").find("a").attr("href")).show();
        $("html,body").scrollTop(0);
    });
    
    // 이벤트스와이프
    evtSwiper = new Swiper('.swiper-container');
    if(evtSwiper && evtSwiper.slides){
        $("#evtPage").html("<strong>" + (evtSwiper.activeIndex + 1) + "/</strong>" + evtSwiper.slides.length);
        evtSwiper.addCallback('SlideChangeEnd', function(swiper){
            $("#evtPage").html("<strong>" + (evtSwiper.activeIndex + 1) + "/</strong>" + evtSwiper.slides.length);
        });
    }
    $(".btn_filter").click(function(){
    	if (Number($(".btn_filter").attr("chkClick")) <= 0) {
    		$(".search_filter").removeClass("on_select");
		} else {
			$(".search_filter").addClass("on_select");
		}
    });
    
    $(".search_filter .inner ul li a.on").each(function(){
    	var innerText = $(this).text();
    	var innerHref = $(this).attr("href");
    	var chkClick = Number($(".btn_filter").attr("chkClick"));
   		appendFilter($(this).attr("href"),$(this).text());
   		if (innerHref != "#saleYn") {
   			$(".btn_filter").attr("chkClick",chkClick+1);
		}
   		$(".search_filter").removeClass("on_select");
    });
    //inner 모든 조건 클릭시
    $(".search_filter .inner ul li a").click(function(){
    	var innerText = $(this).text();
    	var innerHref = $(this).attr("href");
    	var chkClick = Number($(".btn_filter").attr("chkClick"));
    	var chkOnselect = $(".search_filter").hasClass("on_select");
    		if ($(this).hasClass("search_dp1")) {
    			return false;
    		}
    		if (innerHref != "#saleYn"&&innerHref != "#brandOrdrName"&&innerHref != "#brandOrdrCnt"&&innerHref !="#searchCate") {
    			if ($(this).hasClass("on")) {
		    		$(".btn_filter").attr("chkClick",chkClick-1);
		    		if (chkClick-1 <= 0) {
		        		$(".search_filter").removeClass("on_select");
		    		}
	    			deleteFilter(innerHref);
	    		}else{
	    			$(".btn_filter").attr("chkClick",chkClick+1);
	    			if (chkClick+1 > 0) {
	    	    		$(".search_filter").addClass("on_select");
	    	    		appendFilter(innerHref,innerText);
	    			};
	    		};
			}else{
				chkOnselect?"":$(".search_filter").addClass("on_select");
				if (chkClick==0) {
					$(".btn_filter").attr("chkClick",chkClick+1);	
				}
				if(innerHref=="#brandOrdrName"||innerHref=="#brandOrdrCnt"){
					var indx1 = $(".detail .select_condition ul").find("li[value=#brandOrdrCnt]").index();
					var indx2 = $(".detail .select_condition ul").find("li[value=#brandOrdrName]").index();
					if (indx1>=0) {
						$(".detail .select_condition ul li").eq(indx1).remove();
					};
					if (indx2>=0) {
						$(".detail .select_condition ul li").eq(indx2).remove();
					};
				}else{
					if (innerHref == "#saleYn"){
						var index = $(this).parents("li").index() == 0?'1':'0';
						$(".select_condition ul li[value=#saleYn]").text() == $(".search_benefit_tab li").eq(index).text()?true:innerText = $(".search_benefit_tab li").eq(index).text();
					}
					deleteFilter(innerHref);	
				};
				appendFilter(innerHref,innerText);
			};
    		
		
    	
    });
  //조건 하단 클릭시
	$(".select_condition ul li a").click(function(e){
		e.preventDefault();
		var val=$(this).parents("li").attr("value");
		if (val != "#saleYn") {
			deleteFilter(val);
		};
	});
	//조건 하단 텍스트 추가
	function appendFilter( val, innerText ){
		$(".detail .select_condition ul").append("<li class='add' value='"+val+"'><a href='javascript://'>"+innerText+"</a></li>");
		$(".select_condition ul li a").click(function(e){
			e.preventDefault();
			var val=$(this).parents("li").attr("value");
			if (val != "#saleYn") {
				deleteFilter(val);
			};
		});
		
	};
	//조건 하단 텍스트 제거
	function deleteFilter(val){
		var indx = $(".detail .select_condition ul").find("li[value="+val+"]").index();
		if (indx>=0) {
			$(".detail .select_condition ul li").eq(indx).remove();
		};
	};
    /*1뎁스*/
    $(".cond_tab_btn .cate_item a").click(function(e){
    	var chkClick = Number($(".btn_filter").attr("chkClick"));
        e.preventDefault();
        if (!$(this).hasClass("on")) {
			var indx1 = $(".detail .select_condition ul").find("li[value=#brandOrdrName]").index();
	        var indx2 = $(".detail .select_condition ul").find("li[value=#brandOrdrCnt]").index();
	        if (indx1>=0||indx2>=0) {
	        	indx1>=0?$(".detail .select_condition ul li").eq(indx1).remove():$(".detail .select_condition ul li").eq(indx2).remove();
				$(".btn_filter").attr("chkClick",chkClick-1);
			};
		}
        
        $("form[name=searchedForm] input[name=brandGroup]").val("");
    });
    /*2뎁스 */
    $(".search_dp3 .tab_pannels .cate_item a").click(function(event) {
        event.preventDefault();
        var input = $(this).find("input");
    	if ($(this).hasClass("on")) {
	        $(this).removeClass("on");
		}else{
            $(this).addClass("on");
		}
        $("form[name=searchedForm] input[name=page]").val("1");
        $("form[name=searchedForm] input[name=cateChkAll]").attr("checked", false);
        $("form[name=searchedForm] input[name=ctgrIds]").attr("checked", false);
        $("form[name=searchedForm] input[name='ctgr_id_2d']").val("");
        $("form[name=searchedForm] input[name='ctgr_name_2d']").val("");
        $("form[name=searchedForm] input[name='categoryGroup']").val($(this).attr("href"));
        if($.trim(input.val()) == ""){
            $("form[name=searchedForm] input[name=categoryBrandCount]").val(0);
        }else{
            $("form[name=searchedForm] input[name=categoryBrandCount]").val($(this).text());
        }
        $("form[name=searchedForm] input[name=brandGroup]").val("");
        $(".search_brand li a.on").each(function(){
        	deleteFilter($(this).attr("href"));
        	$(this).removeClass("on");
       	});
    });
    
    $(".optn_item a").click(function(event) {
    	event.preventDefault();
    	if ($(this).hasClass("on")) {
    		$(this).removeClass("on");
    	}else{
    		$(this).addClass("on");
    	}
    });
    /*브랜드 상품순 가나다순 버튼체크*/
    $(".brand_ordr li").click(function(e){
        e.preventDefault();
        if($(this).hasClass("active")){
            
        }else{
            var searchBrandTab = $($(this).find("a").attr("href"));
            var brandGroups = $("form[name=searchedForm] input[name=brandGroup]").val().split(",");
            searchBrandTab.find("li").each(function(){
                if($.inArray($(this).val(), brandGroups) >= 0){
                    $(this).addClass("active");
                }else{
                    $(this).removeClass("active");
                }
            });
            
            $($(".brand_ordr li.active").find("a").attr("href")).removeClass("active");
            $(".brand_ordr li.active").removeClass("active");
            searchBrandTab.addClass("active");
            $(this).addClass("active");
            $(".search_brand").hide();
            $($(".brand_ordr li.active").find("a").attr("href")).show();
        };
    });
    
    /* 브랜드 클릭시 */
    $(".search_brand li a").click(function(e){
    	e.preventDefault();
        var isChecked = $(this).hasClass("on");
        var brandNames = new Array();
		if(isChecked){
			$(this).removeClass("on");	
		} else {
			$(this).addClass("on");
		}   
        
        
        $(".search_brand li a.on").each(function(){
            brandNames.push($(this).parents('li').attr("value"));
        });
        
        
        
        $("form[name=searchedForm] input[name=ctgr_id_2d]").val("");
        $("form[name=searchedForm] input[name=ctgr_name_2d]").val("");
        $("form[name=searchedForm] input[name=categoryGroup]").val("");
        $("form[name=searchedForm] input[name=brandGroup]").val("")
        $("form[name=searchedForm] input[name=brandGroup]").val(brandNames.join(","));
        $("form[name=searchedForm] input[name=page]").val("1");
        $(".tab_pannels .cate_item a.on").each(function(){
        	deleteFilter($(this).attr("href"));
        	$(this).removeClass("on");
        	});
        
        $(".cate_item a.on").removeClass("on");
        deleteFilter("#searchCate");
    });
    
    /* 검색어 입력시 */
    $("form[name=searchedForm] input[name=searchTerm]").keypress(function(e) {
        if (e.which == 13) {
            $(this).val($.trim($(this).val()));
            $(".s_search").click();
        }
    });
    
    /* 검색버튼 클릭시 */
    $(".s_search").click(function(event){
        event.preventDefault();
        if (!$(".form_checkbox input[name=searchFlag]").prop("checked")) {
            $("form[name=searchedForm] input.srchFlg").each(function(){$(this).val("");});
        }
        
        $("<input />").attr({"type":"hidden","name":"keywordSubmit","value":"Y"}).appendTo("form[name=searchedForm]");
        
        if (!$(".form_checkbox input[name=searchFlag]").prop("checked")) {
            $("input[name=ajaxCallYn]").val("N");    // ajax call을 하지 않고 Submit하기
        }
        
        $("form[name=searchedForm] input[name=viewType]").val("");
        $("form[name=searchedForm] input[name=page]").val("1");
        $("form[name=searchedForm]").submit();
    });
    
    
    /* 검색 폼 전송 시 */
    $("form[name=searchedForm]").submit(function() {
        var searchFlag = $("form[name=searchedForm] input[name=searchFlag]").val();
        if($("input[name=prevQuery]").val() == "" && searchFlag == "R" ){
            $("input[name=prevQuery]").val("@where { }");
        }
        
        if(searchFlag != "R")    $("input[name=prevQuery]").val("");
        
        var _str = $("form[name=searchedForm] input[name=searchTerm]").val();
        if (_str.replace(/^\s\s*/, '').replace(/\s\s*$/, '') == "" && $("input[name=detailSearch]").val() != 'Y') {
            alert("검색어를 입력해주세요!");
            return false;
        }
        
        if($("input[name=detailSearch]").val() == 'Y' && $("input[name=keywordSubmit]").val() == 'Y') {
            var tmp = $("form[name=searchedForm]").find("input[name=searchTerm]").val();
            $("form[name=searchedForm]").find("input[name=searchTerm]").val(tmp);
        }
        
        return true;
    });
    
    /* 혜택상세 */
    $(".search_benefit_tab a").click(function(e){
        e.preventDefault();
        name = $(this).attr("href");
        name = name.substring(1, name.length);
        // alert(name);
        if($(this).hasClass("on")){
			//on이 있을때
        	if(name == "saleYn"){
        		$(this).removeClass("on");
        		var index = $(this).parents("li").index() == 0?'1':'0';
        		/*Y,N 체크후 Y면 N을 N이면 Y를*/
        		var str = index == '0'?"Y":"N";
        		$(".search_benefit_tab li").eq(index).find("a").addClass("on");
            	$("form[name=searchedForm] input[name=saleYn]").val(str);
        	}else{
	        	$(this).removeClass("on");
	            $("form[name=searchedForm] input[name="+name+"]").val("");
        	}
        }else{
			//on이 없을때
        	$(this).addClass("on");
            if(name == "deliveryVendorId"){
                $("form[name=searchedForm] input[name=deliveryVendorId]").val("0625");
            }else if(name == "saleYn"){
            	var index = $(this).parents("li").index() == 0?'1':'0';
            	$(".search_benefit_tab li").eq(index).find("a").removeClass("on");
            	var str = index == '0'?"N":"Y";
            	$("form[name=searchedForm] input[name=saleYn]").val(str);
            } else {
                $("form[name=searchedForm] input[name="+name+"]").val("Y");
            }
        }
    });
    
    /* 정렬순서 */
    $("#ulSort").change(function(){
        $("form[name=searchedForm] input[name=sort]").val($(this).val());
        $("form[name=searchedForm]").submit();
    });
    
    /* 품절포함여부 */
    $("#ulSaleYn").change(function(){
        // 음반/DVD/BLU-RAY 만 가능
        $("form[name=searchedForm] input[name=page]").val("1");
        $("form[name=searchedForm] input[name=saleYn]").val($(this).val());
        $("form[name=searchedForm]").submit();
    });
    
    /* 리스트사이즈 */
    $("#ulListSize").change(function(){
        $("form[name=searchedForm] input[name=page]").val("1");
        $("form[name=searchedForm] input[name=listSize]").val($(this).val());
        $("form[name=searchedForm]").submit();
    });
   
    $(".keyword_area li a").click(function(){
        initFrm();
        $("form[name=searchedForm] input[name=searchTerm]").val($(this).attr("title"));
        $(".s_search").click();
    });
    
    $("form[name=searchedForm] .search_menu").change(function(){
        var idx = $(this).find('option:selected').index();
        switch(idx){
        case 0:$("form[name=searchedForm] input[name=searchMenu]").val("GIFT");break;       // 기프트
        case 1:$("form[name=searchedForm] input[name=searchMenu]").val("RECORD");break;   // CD
        }
    });
    
    $("[name=searchedForm]").find("[name=searchTerm]").focus(function(){
        $(".over_txt").hide();
        $(this).select();
    });
    
    $(".s_text,.over_txt").click(function(e){
        e.preventDefault();
        fn_FocusTerm();
    });
    $(".keyword_list ul li a").click(function(){
        initFrm();
        $("form[name=searchedForm] input[name=searchTerm]").val($(this).attr("title"));
        $(".s_search").click();
    });
    // 검색창 아닌 곳에 클릭을 하는 경우
    $("body").click(function(e){
        if($(".over_txt").css("display") == "none"){
            if(!$(".search_box").has(e.target).length){
                $("form[name=searchedForm] input[name=searchTerm]").hide();
                $("#overTxt").text($("form[name=searchedForm] input[name=searchTerm]").val());
                $(".over_txt").show();
            }
        }
    });
    
    var cnt = 0;
    $(document).keydown(function(e){
        if(e.keyCode == 84){
            cnt++;
        }else{
            cnt = 0;
        }
        if(cnt > 5){
            $(".hidden_obj").removeClass("hidden_obj");
        }
    });
});

function menuChange(menu){
    menuSubmenSetMain(menu);
    
    $(".chkbox").removeClass("active");
    $("form[name=searchedForm] input[name=page]").val("1");
    $("form[name=searchedForm] input[name=cateChkAll]").attr("checked", false);
    $("form[name=searchedForm] input[name=ctgrIds]").attr("checked", false);
    $("form[name=searchedForm] input[name='ctgr_id_2d']").val("");
    $("form[name=searchedForm] input[name='ctgr_name_2d']").val("");
    $("form[name=searchedForm] input[name='categoryGroup']").val("");
    $("form[name=searchedForm] input[name=brandGroup]").val("");
    
    submitFrm();
}

/* 페이지 이동 */
function srchPageMove(page){
    $("input[name=page]").val(page);
    $("form[name=searchedForm]").submit();
}

function menuSubmenSetMain(searchMenu) {
    $("form[name=searchedForm] input[name=searchMenu]").val(searchMenu);
    $("form[name=searchedForm] input[name=subMenu]").val("");
}

function submitFrm(){
    var ctgr_id = new Array();
    var ctgr_name = new Array();
    $(".tab_pannels .cate_item a.on").each(function(){
        ctgr_id.push($(this).attr("href"));
        ctgr_name.push($(this).text());
    });
    
    $("input[name=ctgr_id_2d]").val(ctgr_id.join(","));
    $("input[name=ctgr_name_2d]").val(ctgr_name.join(","));
    
    $("form[name=searchedForm] input[name=minPrice]").val($("#srchMinPrice").val());
    $("form[name=searchedForm] input[name=maxPrice]").val($("#srchMaxPrice").val());
    
    $("form[name=searchedForm]").submit();
}

function initFrm(){
    $(".chkbox").removeClass("active");
    $("form[name=searchedForm] input[name=searchFlag]").val("");
    $("form[name=searchedForm] input[name=cateChkAll]").attr("checked", false);
    
    $("form[name=searchedForm] input[name=ctgrIds]").attr("checked", false);
    $("form[name=searchedForm] input[name=categoryGroup]").val("");
    $("form[name=searchedForm] input[name=ctgr_id]").val("");
    $("form[name=searchedForm] input[name=ctgr_id_2d]").val("");
    $("form[name=searchedForm] input[name=ctgr_name_2d]").val("");
    $("form[name=searchedForm] input[name=categoryGroup]").val("");
    
    $("form[name=searchedForm] input[name=freeDeliveryYn]").val("");
    $("form[name=searchedForm] input[name=deliveryVendorId]").val("");
    $("form[name=searchedForm] input[name=discountYn]").val("");
    $("form[name=searchedForm] input[name=couponYn]").val("");
    $("form[name=searchedForm] input[name=savedYn]").val("");
    
    $(".search_brand .brand_item .chkbox").removeClass("active");
    $("[name=brandNames]").attr("checked", false);
    $("form[name=searchedForm] input[name=brandGroup]").val("");
    
    $("form[name=searchedForm] input[name=minPrice]").val("");
    $("form[name=searchedForm] input[name=maxPrice]").val("");
    
    $("form[name=searchedForm]").submit();
}

function setSrchPrice(minPrice, maxPrice){
	if ($("input[name=srchMinPrice]").val()!="") {
	    $("input[name=srchMinPrice]").val("");
	    $("input[name=srchMaxPrice]").val("");
	}else{
	    $("input[name=srchMinPrice]").val(minPrice);
	    $("input[name=srchMaxPrice]").val(maxPrice);		
	}

}

function fn_FocusTerm(){
    $(".over_txt").hide();
    $("[name=searchedForm]").find("[name=searchTerm]").show().focus();
    $("html,body").scrollTop($("form[name=searchedForm]").offset().top);
}

/* Facebook Pixel Code */
fbq('track', 'Search');
/* End Facebook Pixel Code */

</script>
</head>
<body>
<form name="searchedForm" method="post" action="/ht/biz/bizSearchMain">
    <input type="hidden" name="listSize" value="${c.listSize}"/>
    <input type="hidden" name="saleYn" value="${c.saleYn}"/>
    <input type="hidden" name="musicAlbumTrack" value="${c.musicAlbumTrack}"/>
    <input type="hidden" name="searchMenu" value="${c.searchMenu}"/>
    <input type="hidden" name="viewType" value="${c.viewType}"/>
    <input type="hidden" name="subMenu" value="${c.subMenu}"/>
    <input type="hidden" name="sort" value="${c.sort}"/>
    <input type="hidden" name="categoryGroup" value="${c.categoryGroup}" class="srchFlg"/>
    <input type="hidden" name="brandGroup" value="${c.brandGroup}" class="srchFlg"/>
    <input type="hidden" name="minPrice" value="${c.minPrice}" class="srchFlg"/>
    <input type="hidden" name="maxPrice" value="${c.maxPrice}" class="srchFlg"/>
    <input type="hidden" name="baseMinPrice" value="${c.baseMinPrice}" class="srchFlg"/>
    <input type="hidden" name="baseMaxPrice" value="${c.baseMaxPrice}" class="srchFlg"/>
    <input type="hidden" name="prevQuery" value="${result.marinerCriteria.prevQuery}" class="srchFlg"/>
    <input type="hidden" name="categoryBrandCount" value="${c.categoryBrandCount}"/>
    <input type="hidden" name="cmpsr" value="${c.cmpsr}"/>
    <input type="hidden" name="rcrd_name" value="${c.rcrd_name}"/>
    <input type="hidden" name="cndtr" value="${c.cndtr}"/>
    <input type="hidden" name="prfmr_kor" value="${c.prfmr_kor}"/>
    <input type="hidden" name="vocal" value="${c.vocal}"/>
    <input type="hidden" name="oscal" value="${c.oscal}"/>
    <input type="hidden" name="istmt_kor" value="${c.istmt_kor}"/>
    <input type="hidden" name="label_name" value="${c.label_name}"/>
    <input type="hidden" name="maker_name" value="${c.maker_name}"/>
    <input type="hidden" name="jmcode" value="${c.jmcode}"/>
    <input type="hidden" name="trk_name" value="${c.trk_name}"/>
    <input type="hidden" name="arti_name" value="${c.arti_name}"/>
    <input type="hidden" name="drctr" value="${c.drctr}"/>
    <input type="hidden" name="actor" value="${c.actor}"/>
    <input type="hidden" name="ctgr_id" value="${c.ctgr_id}" class="srchFlg"/>
    <input type="hidden" name="ctgr_name" value="${c.ctgr_name}" class="srchFlg"/>
    <input type="hidden" name="ctgr_id_2d" value="${c.ctgr_id_2d}" class="srchFlg"/>
    <input type="hidden" name="ctgr_name_2d" value="${c.ctgr_name_2d}" class="srchFlg"/>
    <input type="hidden" name="minDay" value="${c.minDay}"/>
    <input type="hidden" name="maxDay" value="${c.maxDay}"/>
    <input type="hidden" name="detailSearch" value="${c.detailSearch}"/>
    <input type="hidden" name="deliveryVendorId" value="${c.deliveryVendorId}"/>
    <input type="hidden" name="couponYn" value="${c.couponYn}"/>
    <input type="hidden" name="freeDeliveryYn" value="${c.freeDeliveryYn}"/>
    <input type="hidden" name="discountYn" value="${c.discountYn}"/>
    <input type="hidden" name="savedYn" value="${c.savedYn}"/>
    <input type="hidden" name="ajaxCallYn" value="Y"/>
    <input type="hidden" name="page" value="1"/>
    <div class="search_top">
    	<div class="inner">
			<fieldset>
				<div class="form_wrap">
					<div class="form_select">
						<select class="resize_select search_menu" name="searchMenuText">
							<option value="기프트"<c:if test="${_skey_kind eq '기프트'}">selected</c:if>>기프트</option>
							<option value="음반/영상"<c:if test="${_skey_kind eq '음반/영상'}">selected</c:if>>음반/영상</option>
						</select>
					</div>
					<label class="form_checkbox">
						<input type="checkbox" name="searchFlag" value="R"<c:if test="${c.searchFlag eq 'R'}"> checked="checked"</c:if>>
						<span class="icon">결과 내 재검색</span>
					</label>
				</div>
				<div class="input_wrap">
                  <input type="text" class="text search_keyword" name="searchTerm" value="${c.searchTerm}" title="검색어를 입력해주세요" style="ime-mode:active;"/>
					<span class="input_clear">삭제</span>
					<a href="#" class="btn_search s_search"></a>
				</div>
				<div class="related_search">
			          <c:if test="${not empty result.listLinked}">
			              <div class="search_link">
			                  <dl>
			                      <p>연관검색어</p>
			                      <ul>
			                          <div class="keyword_area">
			                              <c:forEach var="keyword" items="${result.listLinked}" end="4" varStatus="st">
			                                  <li><a href="javascript://" title="${keyword}">${keyword}</a></li>
			                              </c:forEach>
			                          </div>
			                      </ul>
			                  </dl>
			              </div>
			          </c:if>
					<a href="/ht/search/searchDetail/Record" class="btn_detail">CD,DVD 상세검색</a>
				</div>
			</fieldset>
        </div>
    </div>
    <c:if test="${empty result.listProduct}">
	<div class="none_txt">
		<p>일치되는 검색결과를 찾을 수 없습니다</p>
		<ul>
			<li>- 찾으시는 상품이 일시적으로 품절일 수 있습니다.</li>
			<li>- 검색어의 철자가 정확한지 다시 한번 확인해 주세요.</li>
			<li>- 검색어의 단어수를 줄이거나, 보다 일반적인 단어로 검색해 보세요.</li>
		</ul>
	</div>
	</c:if>
	<c:if test="${not empty listEvent || not empty listEventChoice}">
  		<div class="cont01">
			<div class="search_slide">
				<ul>
				<c:forEach items="${listEvent}" varStatus="s1" step="3">
					<c:forEach items="${listEvent}" var="l" varStatus="st" begin="${s1.index}" end="${s1.index + 2}">
					<li>
						<a href="/ht/biz/eventDetail?eventId=${l.eventId}">
							<span class="badge badge01">관련이벤트</span>
							<div class="thum">
								<ui:image src="${l.imageUrl}" alt="${fn:escapeXml(l.eventTitle)}"/>
							</div>
							<c:if test="${l.stdDscntRate ne '0'}">
								<span class="font_t percent">${l.stdDscntRate}%</span>
							</c:if>
							<strong>${l.eventTitle}</strong>
							<p>${l.eventDtlCont} </p>
							<span class="date font_t">
								<ui:mask pattern="####.##.##">${l.eventStartDt}</ui:mask> ~ <ui:mask pattern="####.##.##">${l.eventEndDt}</ui:mask>
							</span>
						</a>
					</li>
                    </c:forEach>
					<c:if test="${s1.first && not empty listEventChoice}">
                    <c:forEach items="${listEventChoice}" var="l" varStatus="st">
						<li>
                              <a href="/ht/biz/eventDetail?eventId=${l.eventId}">
									<span class="badge badge02">인기이벤트</span>
									<div class="thum">
										<ui:image src="${l.imageUrl}" alt="${fn:escapeXml(l.eventTitle)}"/>
									</div>
									<c:if test="${l.stdDscntRate ne '0'}">
										<span class="font_t percent">${l.stdDscntRate}%</span>
									</c:if>
									<strong>${l.eventTitle}</strong>
									<p>${l.eventDtlCont} </p>
									<span class="date font_t">
										<ui:mask pattern="####.##.##">${l.eventStartDt}</ui:mask> ~ <ui:mask pattern="####.##.##">${l.eventEndDt}</ui:mask>
									</span>
								</a>
						</li>
					</c:forEach>
					</c:if>
				</c:forEach>
				<c:if test="${empty listEvent}">
					<c:forEach items="${listEventChoice}" var="l" varStatus="st">
						<!--TODO:롤링해야함 -->
						<li>
                       	<a href="/ht/biz/eventDetail?eventId=${l.eventId}">
                                  <span class="badge badge02">인기이벤트</span>
                               <div class="thum">
								<ui:image src="${l.imageUrl}" alt="${fn:escapeXml(l.eventTitle)}"/>
							</div>
								<c:if test="${l.stdDscntRate ne '0'}">
									<span class="font_t percent">${l.stdDscntRate}%</span>
								</c:if>
                               <strong>${l.eventTitle}</strong>
                               <p>${l.eventDtlCont} </p>
                               <span class="date font_t">
								<ui:mask pattern="####.##.##">${l.eventStartDt}</ui:mask> ~ <ui:mask pattern="####.##.##">${l.eventEndDt}</ui:mask>
							</span>
                           </a>
						</li>
					</c:forEach>
				</c:if>
				</ul>
			</div>
		</div>
	</c:if>
				<!--category_wrap-->
				<div class="category_wrap">
					<!-- 검색 연관 상품 -->
					<c:if test="${not empty listRecobell && not empty result.listProduct}">
					<div class="cont02 pd_unit">
						<h5 class="search_tit">검색 연관 상품</h5>
						<div class="category_slide">
							<ul>
 							<!--반복시작 -->
 							<c:forEach items="${listRecobell}" var="l" varStatus="st" begin="0" end="19">
								<li <c:if test="${l.prdtStatCode ne 'C0312'}">class="sold_out"</c:if>>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}">
									<a href="/ht/record/detail/${l.sellPrdtBcode}?foo=bar&rccode=pc_search1">
										<div class="thum">
											<ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" rcrdImgType="large" width="${l.sellPrdtGbn eq 'R'?'150':'99'}" clazz="photo" alt="${fn:escapeXml(l.prdtName)}"/>
										</div>
									</a>
									</c:if>
		                            <c:if test="${l.sellPrdtGbn eq 'P' || l.sellPrdtGbn eq 'G' || l.sellPrdtGbn eq 'S'}">
		                            <a href="/ht/product/detail?barcode=${l.sellPrdtBcode}&foo=bar&rccode=pc_search1">
			                            <div class="thum">
			                            	<ui:image src="${l.productImageUrl}" src2="${l.productImageUrl2}" size="400" server="product" clazz="photo" alt="${fn:escapeXml(l.prdtName)}"/>
			                            </div>
		                            </a>
		                            </c:if>
									<!-- 클릭시 active : class 추가 -->
									<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt eq '1'}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><a href="/ht/record/detail/${l.sellPrdtBcode}?foo=bar&rccode=pc_search1"></c:if>
		                        	<c:if test="${l.sellPrdtGbn eq 'P' || l.sellPrdtGbn eq 'G' || l.sellPrdtGbn eq 'S'}"><a href="/ht/product/detail?barcode=${l.sellPrdtBcode}&foo=bar&rccode=pc_search1"></c:if>
										<div class="cont">
											<p class="brand">${l.brandEngName}</p>
											<p class="tit">${fn:escapeXml(l.prdtName)}</p>
											<p class="price font_t">
												<c:if test="${l.prdtSellPrice ne l.lastCpnPrice}">
													<span class="percent"><fmt:formatNumber value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}" pattern=",###"/>%</span></span>
												</c:if>
												<span><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
												<c:if test="${l.prdtSellPrice ne l.lastCpnPrice}">
				                                    <span class="discount"><fmt:formatNumber type="number">${l.prdtSellPrice}</fmt:formatNumber></span>
				                                </c:if>
											</p>
											<div class="info">
												<span class="reply">${l.reviewCount}</span>
												<span class="like">${l.wishPrdtCnt}</span>
											</div>
											<div class="badge">
												<c:if test="${l.prdtStatCode ne 'C0312'}"><span class="badge03">품절</span></c:if>
												<c:if test="${fn:substring(l.prdtIcon,0,1) eq '1'}"><span class="badge01">쿠폰</span></c:if>
												<c:if test="${fn:substring(l.prdtIcon,2,3) eq '1'}"><span class="badge02">사은품</span></c:if>
												<c:if test="${fn:substring(l.prdtIcon,8,9) eq '1'}"><span class="badge02">무료배송</span></c:if>
											</div>
										</div>
									</a>
								</li>
 								<!--반복끝 -->
							</c:forEach>
							</ul>
						</div>
					</div>
					</c:if>
					<c:if test="${not empty result.listProduct}">
					<!--// 검색 연관 상품 -->
					<div class="pd_filter">
						<p class="pd_total">
							<em class="font_t"><fmt:formatNumber pattern=",###"><c:if test="${c.searchMenu eq 'GIFT'}">${result.totalSize+result.recordSize}</c:if><c:if test="${c.searchMenu eq 'RECORD'}">${result.totalSize+result.giftSize}</c:if></fmt:formatNumber></em>건 진행중
						</p>
						<div class="form_select">
							<select id="ulSort">
								<option value="ODC" <c:if test="${c.sort eq 'ODC'}"> selected</c:if>>인기순</option>
								<option value="DAT" <c:if test="${c.sort eq 'DAT'}"> selected</c:if>>최근등록순</option>
								<option value="LOP" <c:if test="${c.sort eq 'LOP'}"> selected</c:if>>낮은가격순</option>
								<option value="HIP" <c:if test="${c.sort eq 'HIP'}"> selected</c:if>>높은가격순</option>
								<option value="DCR" <c:if test="${c.sort eq 'DCR'}"> selected</c:if>>높은할인율순</option>
								<option value="LIK" <c:if test="${c.sort eq 'LIK'}"> selected</c:if>>좋아요순</option>
								<option value="RVW" <c:if test="${c.sort eq 'RVW'}"> selected</c:if>>리뷰순</option>
							</select>
						</div>
					</div>
					<div class="search_tab">
						<ul>
							<li <c:if test="${c.searchMenu eq 'GIFT'}">class="active"</c:if>><a href="javascript://" onclick="menuChange('GIFT');return false;">문구/기프트<span class="font_t">(<fmt:formatNumber pattern=",###"><c:if test="${c.searchMenu eq 'GIFT'}">${result.totalSize}</c:if><c:if test="${c.searchMenu ne 'GIFT'}">${result.giftSize}</c:if></fmt:formatNumber>)</span></a></li>
							<li <c:if test="${c.searchMenu eq 'RECORD'}">class="active"</c:if>><a href="javascript://" onclick="menuChange('RECORD');return false;" class="tab_record">음반<span class="font_t">(<fmt:formatNumber pattern=",###"><c:if test="${c.searchMenu eq 'RECORD'}">${result.totalSize}</c:if><c:if test="${c.searchMenu ne 'RECORD'}">${result.recordSize}</c:if></fmt:formatNumber>)</span></a></li>
						</ul>
					</div>
					<div class="search_filter_wrap">
						<!-- 상세조건 선택시 on_select : class 추가-->
						<div class="search_filter">
							<div class="inner">
								<ul>
									<li>
										<a class="search_dp1" href="javascript://"><span>카테고리</span></a>
										<div class="search_dp2">
											
											<ul class="cond_tab_btn">
												<c:if test="${not empty result.listCategory}">
												<c:forEach items="${result.listCategory}" var="l1" varStatus="st">
												<li class="cate_item">
													<a value="${l1.ctgrIdNm}" href="#searchCate" class="btn_dp2<c:if test="${l1.checked || l1.openChild}"> on</c:if>">${l1.ctgrName}</a>
													<div class="search_dp3">
														<ul class="tab_pannels">
															<c:forEach items="${l1.listChild}" varStatus="st1" var="l2">
															<li class="cate_item">
																<a href="#${l2.ctgrId}" <c:if test="${l2.checked || l2.openChild}"> class="on"</c:if>>${l2.ctgrName}</a>
															</li>
															</c:forEach>
														</ul>
													</div>
												</li>
												</c:forEach>
											</c:if>
											</ul>
										</div>
									</li>
									<c:if test="${c.searchMenu eq 'GIFT'}">
									<li>
										<a class="search_dp1" href="javascript://"><span>브랜드</span></a>
										<div class="search_dp2">
											<div class="dp2_tab">
												<ul class="brand_ordr">
													<li class="active"><a href="#brandOrdrCnt">상품순</a></li>
                   									<li><a href="#brandOrdrName">가나다순</a></li>
												</ul>
											</div>
					                        <ul class="search_brand" id="brandOrdrCnt">
					                            <c:forEach items="${result.listBrandByCnt}" var="l" varStatus="st">
					                                <li value="${l.brandName}">
						                                <a href="brandOrdrCnt${st.index}" <c:if test="${l.checked}">class="on"</c:if>>
						                                	<ui:cut isStripHtml="true" limit="10" tail="..">${l.brandName}</ui:cut> (<fmt:formatNumber type="number">${l.prdtCnt}</fmt:formatNumber>)
						                                </a>
					                                </li>
					                            </c:forEach>
					                        </ul>
					                        <ul class="search_brand" id="brandOrdrName">
					                            <c:forEach items="${result.listBrandByName}" var="l" varStatus="st">
					                                <li value="${l.brandName}">
						                                <a href="brandOrdrName${st.index}" <c:if test="${l.checked}">class="on"</c:if>>
						                                	<ui:cut isStripHtml="true" limit="10" tail="..">${l.brandName}</ui:cut> (<fmt:formatNumber type="number">${l.prdtCnt}</fmt:formatNumber>)
						                                </a>
					                                </li>
					                            </c:forEach>
					                        </ul>
										</div>
									</li>
									</c:if>
									<li>
										<a class="search_dp1" href="javascript://"><span>가격대</span></a>
										<div class="search_dp2">
											<c:if test="${not empty priceRange}">
											<ul>
											<c:forEach items="${priceRange}" var="l">
												<li>
													<p class="optn_item">
														<a id="price_${l.MIN}_${l.MAX}" href="#price_${l.MIN}_${l.MAX}" <c:if test="${l.MIN eq c.baseMinPrice && l.MAX eq c.baseMaxPrice}">class="on"</c:if> onclick="setSrchPrice('${l.MIN}', '${l.MAX}');return false;">${l.TXT}</a>
													</p>
												</li>
											</c:forEach>
											</ul>
											</c:if>
											<div class="price">
												<p>직접입력</p>
												<div class="input_wrap">
													<input type="text" name="srchMinPrice" value="${c.baseMinPrice}" placeholder="최저가"/>
													<span class="font_t">~</span>
													<input type="text" name="srchMaxPrice" value="${c.baseMaxPrice}" placeholder="최고가"/>
												</div>
											</div>
										</div>
									</li>
									<li>
										<a class="search_dp1" href="javascript://"><span>혜택상세</span></a>
										<div class="search_dp2">
											<ul class="search_benefit_tab">
												<li value="Y"><a href="#saleYn" <c:if test="${c.saleYn eq 'Y'}">class="on"</c:if>>품절제외</a></li>
												<li value="N"><a href="#saleYn" <c:if test="${c.saleYn eq 'N' || empty c.saleYn}">class="on"</c:if>>품절포함</a></li>
							                    <li><a href="#freeDeliveryYn"   <c:if test="${c.freeDeliveryYn eq 'Y'}">class="on"</c:if>>무료배송</a></li>
							                    <li><a href="#deliveryVendorId" <c:if test="${c.deliveryVendorId eq '0625'}">class="on"</c:if>>핫트랙스배송</a></li>
							                    <li><a href="#discountYn" <c:if test="${c.discountYn eq 'Y'}">class="on"</c:if>>할인</a></li>
							                    <li><a href="#couponYn" <c:if test="${c.couponYn eq 'Y'}">class="on"</c:if>>쿠폰</a></li>
							                    <li><a href="#savedYn" <c:if test="${c.savedYn eq 'Y'}">class="on"</c:if>>적립</a></li>
											</ul>
										</div>
									</li>
									<c:if test="${c.searchMenu eq 'RECORD'}">
									<li></li>
									</c:if>
								</ul>
								<div class="detail">
									<div class="select_condition">
										<ul>
										</ul>
									</div>
									<div class="btn_wrapper">
										<a href="#" onclick="initFrm();return false;" class="btn_reset">초기화</a>
										<a href="#" onclick="submitFrm();return false;" class="btn_black">적용하기</a>
									</div>
								</div>
							</div>
							<a href="javascript://" class="btn_filter" chkClick="0"></a>
						</div>
					</div>
					</c:if>
 					<!--cont03 -->
					<c:if test="${not empty result.listProduct}">
					<div class="cont03">
						<!--pd_list -->
						<div class="pd_list">
						<c:forEach items="${result.listProduct}" varStatus="s1" step="4">
							<ul>
								<c:forEach items="${result.listProduct}" var="l" varStatus="st" begin="${s1.index}" end="${s1.index+3}">
								<c:choose>
									<c:when test="${fn:startsWith(l.ctgrId, '0000')}">
									<!-- //기프트 -->
									<li <c:if test="${l.saleYn ne 'Y'}">class="sold_out"</c:if>>
									<a href="/ht/product/detail?barcode=${l.sellPrdtBcode}">
										<div class="thum">
											<ui:image src="${l.prdtImgUrl}" server="product" alt="${fn:escapeXml(l.prdtName)}" size="400"/>
										</div>
									</a>
									<!-- 클릭시 active : class 추가 -->
									<c:if test="${not empty bizListWish}"><c:set var="wishUserCount" value="${bizListWish[s1.index].wishUserCount}"/></c:if>
									<c:if test="${empty bizListWish}"><c:set var="wishUserCount" value="0"/></c:if>
 									<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${wishUserPrdtCnt eq '1'}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
									<a href="/ht/product/detail?barcode=${l.sellPrdtBcode}">
										<div class="cont">
											<p class="brand">${l.brandName}</p>
											<p class="tit">${l.prdtName}</p>
											<p class="price font_t">
											<c:if test="${l.prdtSellPrice > l.prdtDscntPrice}">
												<fmt:parseNumber var="rate" integerOnly="true" value="${hfn:rate(l.prdtSellPrice, l.prdtDscntPrice)}"/>
												<span class="percent">${rate}%</span>
											</c:if>
												<span><fmt:formatNumber value="${l.prdtDscntPrice}" pattern="#,###"/></span>
											<c:if test="${l.prdtSellPrice > l.prdtDscntPrice}">
												<span class="discount"><fmt:formatNumber value="${l.prdtSellPrice}" pattern="#,###"/></span>
											</c:if>
											</p>
											<div class="info">
												<c:set var="reviewCount" value="${l.reviewCount}"/>
							                    <c:set var="wishCount" value="${l.wishCount}"/>
							                    <c:if test="${l.reviewCount > 999}"><c:set var="reviewCount" value="999+"/></c:if>
							                    <c:if test="${l.wishCount > 999}"><c:set var="wishCount" value="999+"/></c:if>
							                    <span class="reply">${reviewCount}</span>
												<span class="like" code="${l.sellPrdtBcode}">${wishCount}</span>
											</div>
											<div class="badge">
												<c:if test="${l.saleYn ne 'Y'}">
												<span class="badge03">품절</span>
												</c:if>
												<c:if test="${l.cpnYn eq 'Y'}">
													<span class="badge01">쿠폰</span>
												</c:if>
 												<%--<c:if test="${fn:substring(l.prdtIcon,2,3) eq '1'}"> --%>
 													<!--<span class="badge02">사은품</span> -->
 												<%--</c:if> --%>
												<c:if test="${l.freeDlvyYn eq 'Y'}">
													<span class="badge02">무료배송</span>
												</c:if>
											</div>
										</div>
										<span class="hidden_obj" style="display:none;">
							                                카테고리 : ${l.ctgrName}<br/>
							                                매입처명 : ${l.vndrCntrtName}<br/>
							                                주문건수 : <fmt:formatNumber type="number">${l.orderCount}</fmt:formatNumber><br/>
							                                판매수량 : <fmt:formatNumber type="number">${l.orderPrdtCount}</fmt:formatNumber><br/>
							                                후기개수 : <fmt:formatNumber type="number">${l.reviewCount}</fmt:formatNumber><br/>
							                                클릭수 : <fmt:formatNumber type="number">${l.clickCount}</fmt:formatNumber><br/>
							                                상품코드 : ${l.sellPrdtBcode}<br/>
							                                키워드 : ${l.prdtSrchWord}
										</span>
									</a>
									</li>
									<!-- //기프트 -->
									</c:when>
									<c:otherwise>
									<!-- CD/DVD -->
									<li <c:if test="${l.saleYn ne 'Y'}">class="sold_out"</c:if>>
									<a href="/ht/record/detail/${l.sellPrdtBcode}">
										<div class="thum">
											<c:choose>
                                                <c:when test="${fn:startsWith(l.ctgrId, '0004')}"><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="D" ratingCode="${l.rtngCode }" size="400" alt="${fn:escapeXml(l.ctgrName)}" /></c:when>
                                                <c:otherwise><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="R" ratingCode="${l.rtngCode }" size="400" alt="${fn:escapeXml(l.ctgrName)}" /></c:otherwise>
                                            </c:choose>
										</div>
									</a>
									<!-- 클릭시 active : class 추가 -->
									<c:if test="${not empty bizListWish}"><c:set var="wishUserCount" value="${bizListWish[s1.index].wishUserCount}"/></c:if>
									<c:if test="${empty bizListWish}"><c:set var="wishUserCount" value="0"/></c:if>
 									<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${wishUserCount eq '1'}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
									<a href="/ht/record/detail/${l.sellPrdtBcode}">
										<div class="cont">
											<p class="brand">${l.artiName}</p>
											<p class="tit">${l.prdtName}</p>
											<p class="price font_t">
												<c:if test="${l.prdtSellPrice > l.prdtDscntPrice}">
													<fmt:parseNumber var="rate" integerOnly="true" value="${hfn:rate(l.prdtSellPrice, l.prdtDscntPrice)}"/>
													<span class="percent">${rate}%</span>
												</c:if>
													<span><fmt:formatNumber value="${l.prdtDscntPrice}" pattern="#,###"/></span>
												<c:if test="${l.prdtSellPrice > l.prdtDscntPrice}">
													<span class="discount"><fmt:formatNumber value="${l.prdtSellPrice}" pattern="#,###"/></span>
												</c:if>
											</p>
											<div class="info">
												<c:set var="reviewCount" value="${l.reviewCount}"/>
							                    <c:set var="wishCount" value="${l.wishCount}"/>
							                    <c:if test="${l.reviewCount > 999}"><c:set var="reviewCount" value="999+"/></c:if>
							                    <c:if test="${l.wishCount > 999}"><c:set var="wishCount" value="999+"/></c:if>
							                    <span class="reply">${reviewCount}</span>
												<span class="like" code="${l.sellPrdtBcode}">${wishCount}</span>
											</div>
											<div class="badge">
												<c:if test="${l.saleYn ne 'Y'}"><span class="badge03">품절</span></c:if>
												<span class="badge01">쿠폰</span>
												<span class="badge02">사은품</span>
												<span class="badge02">무료배송</span>
											</div>
										</div>
									</a>
										<span class="hidden_obj" style="display:none;">
							                                카테고리 : ${l.ctgrName}<br/>
							                                매입처명 : ${l.vndrCntrtName}<br/>
							                                주문건수 : <fmt:formatNumber type="number">${l.orderCount}</fmt:formatNumber><br/>
							                                판매수량 : <fmt:formatNumber type="number">${l.orderPrdtCount}</fmt:formatNumber><br/>
							                                후기개수 : <fmt:formatNumber type="number">${l.reviewCount}</fmt:formatNumber><br/>
							                                클릭수 : <fmt:formatNumber type="number">${l.clickCount}</fmt:formatNumber><br/>
							                                상품코드 : ${l.sellPrdtBcode}<br/>
							                                키워드 : ${l.prdtSrchWord}
										</span>
									</li>
									<!-- CD/DVD -->
									</c:otherwise>
								</c:choose>
								</c:forEach>
							</ul>
							</c:forEach>
						</div>
						<div class="pagination_v2">
							<ui:bizPaginationScript name="pageHolder" scriptName="srchPageMove"/>
						</div><!-- end pager -->
						<!--pd_list -->
					</div>
					<!--cont03 -->
					</c:if>
					<!--listProduct-->
					<!--listProduct empty -->
					<c:if test="${empty result.listProduct}">
					<div class="search_none">
					<h5 class="search_tit">혹시, 이런 키워드는 어떠세요?</h5>
					<div class="keyword_list">
						<ul>
						<c:forEach items="${keyWordListRecobell}" var="l" varStatus="st">
							<li><a href="javascript://" title="${l}">${l}</a></li>
						</c:forEach>
						</ul>
					</div>
 					<!-- bestListRecobell -->
					<h5 class="search_tit">가끔은, 베스트셀러도 좋아요</h5>
					<div class="pd_unit best">
					<div class="category_slide">
						<ul>
							<c:forEach items="${bestListRecobell}" var="l" varStatus="st" begin="0" end="19">
								<li <c:if test="${l.prdtStatCode ne 'C0312'}">class="sold_out"</c:if>>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}">
									<a href="/ht/record/detail/${l.sellPrdtBcode}?foo=bar&rccode=pc_search1">
										<div class="thum">
											<ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" rcrdImgType="large" width="${l.sellPrdtGbn eq 'R'?'150':'99'}" clazz="photo" alt="${fn:escapeXml(l.prdtName)}"/>
										</div>
									</a>
									</c:if>
		                            <c:if test="${l.sellPrdtGbn eq 'P' || l.sellPrdtGbn eq 'G' || l.sellPrdtGbn eq 'S'}">
		                            <a href="/ht/product/detail?barcode=${l.sellPrdtBcode}&foo=bar&rccode=pc_search1">
			                            <div class="thum">
			                            	<ui:image src="${l.productImageUrl}" src2="${l.productImageUrl2}" size="400" server="product" clazz="photo" alt="${fn:escapeXml(l.prdtName)}"/>
			                            </div>
		                            </a>
		                            </c:if>
									<!-- 클릭시 active : class 추가 -->
									<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt eq '1'}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><a href="/ht/record/detail/${l.sellPrdtBcode}?foo=bar&rccode=pc_search1"></c:if>
		                        	<c:if test="${l.sellPrdtGbn eq 'P' || l.sellPrdtGbn eq 'G' || l.sellPrdtGbn eq 'S'}"><a href="/ht/product/detail?barcode=${l.sellPrdtBcode}&foo=bar&rccode=pc_search1"></c:if>
										<div class="cont">
											<p class="brand">${l.brandEngName}</p>
											<p class="tit">${fn:escapeXml(l.prdtName)}</p>
											<p class="price font_t">
												<c:if test="${l.prdtSellPrice ne l.lastCpnPrice}">
													<span class="percent"><fmt:formatNumber value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}" pattern=",###"/>%</span></span>
												</c:if>
												<span><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
												<c:if test="${l.prdtSellPrice ne l.lastCpnPrice}">
				                                    <span class="discount"><fmt:formatNumber type="number">${l.prdtSellPrice}</fmt:formatNumber></span>
				                                </c:if>
											</p>
											<div class="info">
												<span class="reply">${l.reviewCount}</span>
												<span class="like">${l.wishPrdtCnt}</span>
											</div>
											<div class="badge">
												<c:if test="${l.prdtStatCode ne 'C0312'}"><span class="badge03">품절</span></c:if>
												<c:if test="${fn:substring(l.prdtIcon,0,1) eq '1'}"><span class="badge01">쿠폰</span></c:if>
												<c:if test="${fn:substring(l.prdtIcon,2,3) eq '1'}"><span class="badge02">사은품</span></c:if>
												<c:if test="${fn:substring(l.prdtIcon,8,9) eq '1'}"><span class="badge02">무료배송</span></c:if>
											</div>
										</div>
									</a>
								</li>
 								<!--반복끝 -->
							</c:forEach>
						</ul>
					</div>
					</div>
					</c:if>
					<!--listProduct empty -->
				</div>
				<!--category_wrap-->
<!-- 	end -->
</form>
</body>
</html>