<%@ page contentType="text/html;charset=utf-8" language="java" %>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@taglib uri="http://hottracks.co.kr/taglib/ui" prefix="ui" %>
<%@taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>
<%@taglib uri="http://hottracks.co.kr/taglib/hfn" prefix="hfn" %>
<ui:decorator name="none"/>

<div class="empty_history">
	<img src="/images/biz/sub/history/no_history.png" alt="히스토리 없음">
	<p><span>아직 쇼핑 히스토리가 없어요<br> 핫트랙스에는<br> 보물 같은 아이들이 많답니다</span><br><br>관심이 필요해요</p>
</div>
<c:if test="${empty listRecent0 && empty listRecent1 && empty listRecent2 && empty listRecent3 && empty listRecent4 && empty listRecent5 && empty listRecent6}">
	<script type="text/javascript">
		$('.area_overflow').addClass('no');	
	</script>	
</c:if>
<c:if test="${not empty listRecent0}">			
	<div class="box_history pd_list" id="listRecent0">
		<h4 class='tdy font_t'>Today</h4>
		<ul class='catalog_history edit'><!-- 편집 비활성 -->
			<c:forEach items="${listRecent0}" var="l" varStatus="st">
				<li class='${l.rcntGbn} <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">																		
											<c:if test="${l.prdtStatCode eq 'C0313' || l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">sold_out</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">																		
											<c:if test="${l.rcrdStat eq '2' || l.rcrdStat eq '3' || l.rcrdStat eq '4'}">sold_out</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">sold_out</c:if>'>
					<input type="hidden" name="sellPrdtBcode" value="${l.sellPrdtBcode}"/>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="/p/${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_02'}">
						<a href="/ht/biz/bizSearchMain?searchTerm=${l.prdtName}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_03'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_04'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="/ht/biz/hot/brandDetail?brandId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
						<c:choose>
							<c:when test="${l.rcntGbn eq 'ic_01'}">
								<i>
									<c:if test="${l.sellPrdtGbn ne 'R' && l.sellPrdtGbn ne 'D'}"><ui:image src="${l.productImageUrl}" server="product" size="150" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>									
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" width="60" alt="${fn:escapeXml(l.prdtName)}" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
								</i>																												
								<div class="desc_type01">
									<h2>[${l.brandName}] ${fn:escapeXml(l.prdtName)}</h2>
									<p>
										<fmt:parseNumber var="rate" integerOnly="true" type="number" value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}"/>
										<span class='font_t percent'><c:if test="${rate > 0}">${rate}%</c:if></span>
										<span class='font_t'><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
									</p>
								</div>
							</c:when>
							<c:otherwise>
								<div class="desc_type02">
									<h2>${fn:escapeXml(l.prdtName)}</h2>
								</div>
							</c:otherwise>
						</c:choose>													
					</a>
					<a href="javascript:" class='chk_delete'></a>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt > 0}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="javascript:" onclick="addBizWishBrand('${l.sellPrdtBcode}');return false;" class='btn_like<c:if test="${brand.wishUserPrdtCnt > 0}"> on</c:if>' id="${l.sellPrdtBcode}"><span>좋아요</span></a><!-- 활성화시 on : class 추가 -->
					</c:if>
					<div class="run_out <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">
											<c:if test="${l.prdtStatCode eq 'C0313'}">out01</c:if>
											<c:if test="${l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">out02</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">
											<c:if test="${l.rcrdStat eq '2'}">out01</c:if>
											<c:if test="${l.rcrdStat eq '3' || l.rcrdStat eq '4'}">out02</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">out03</c:if>"><!-- 품절유형 out01 ~ 03 : class 추가 -->
						<span class='out01'>일시<br>품절</span>
						<span class='out02'>품절</span>
						<span class='out03'>종료</span>
					</div>
				</li>													
			</c:forEach>
		</ul>						
	</div>
</c:if>
<c:if test="${not empty listRecent1}">
	<div class="box_history pd_list" id="listRecent1">
		<h4 class='lst font_t'><span class='year'>${listRecent1[0].yyyy}</span> ${fn:substring(fn:trim(listRecent1[0].mmdd), 0, 2)} <em>${fn:substring(fn:trim(listRecent1[0].mmdd), 3, 5)}</em> <i class='${listRecent1[0].yoil}'></i><!-- sun·mon·tue·wed·thur·fri·sat : class 추가 --></h4>
		<ul class='catalog_history edit'>
			<c:forEach items="${listRecent1}" var="l" varStatus="st">
				<li class='${l.rcntGbn} <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">																		
											<c:if test="${l.prdtStatCode eq 'C0313' || l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">sold_out</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">																		
											<c:if test="${l.rcrdStat eq '2' || l.rcrdStat eq '3' || l.rcrdStat eq '4'}">sold_out</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">sold_out</c:if>'>
					<input type="hidden" name="sellPrdtBcode" value="${l.sellPrdtBcode}"/>					
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="/p/${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_02'}">
						<a href="/ht/biz/bizSearchMain?searchTerm=${l.prdtName}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_03'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_04'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="/ht/product/detail?barcode=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>																														
						<c:choose>
							<c:when test="${l.rcntGbn eq 'ic_01'}">
								<i>
									<c:if test="${l.sellPrdtGbn ne 'R' && l.sellPrdtGbn ne 'D'}"><ui:image src="${l.productImageUrl}" server="product" size="150" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" width="60" alt="${fn:escapeXml(l.prdtName)}" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
								</i>														
								<div class="desc_type01">
									<h2>[${l.brandName}] ${fn:escapeXml(l.prdtName)}</h2>
									<p>
										<fmt:parseNumber var="rate" integerOnly="true" type="number" value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}"/>
										<span class='font_t percent'><c:if test="${rate > 0}">${rate}%</c:if></span>
										<span class='font_t'><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
									</p>
								</div>
							</c:when>
							<c:otherwise>
								<div class="desc_type02">
									<h2>${fn:escapeXml(l.prdtName)}</h2>
								</div>
							</c:otherwise>
						</c:choose>													
					</a>
					<a href="javascript:" class='chk_delete'></a>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt > 0}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="javascript:" onclick="addBizWishBrand('${l.sellPrdtBcode}');return false;" class='btn_like<c:if test="${brand.wishUserPrdtCnt > 0}"> on</c:if>' id="${l.sellPrdtBcode}"><span>좋아요</span></a><!-- 활성화시 on : class 추가 -->
					</c:if>
					<div class="run_out <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">
											<c:if test="${l.prdtStatCode eq 'C0313'}">out01</c:if>
											<c:if test="${l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">out02</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">
											<c:if test="${l.rcrdStat eq '2'}">out01</c:if>
											<c:if test="${l.rcrdStat eq '3' || l.rcrdStat eq '4'}">out02</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">out03</c:if>"><!-- 품절유형 out01 ~ 03 : class 추가 -->
						<span class='out01'>일시<br>품절</span>
						<span class='out02'>품절</span>
						<span class='out03'>종료</span>
					</div>												
				</li>
			</c:forEach>
		</ul>
	</div>							
</c:if>				
<c:if test="${not empty listRecent2}">
	<div class="box_history pd_list" id="listRecent2">
		<h4 class='lst font_t'><span class='year'>${listRecent2[0].yyyy}</span> ${fn:substring(fn:trim(listRecent2[0].mmdd), 0, 2)} <em>${fn:substring(fn:trim(listRecent2[0].mmdd), 3, 5)}</em> <i class='${listRecent2[0].yoil}'></i><!-- sun·mon·tue·wed·thur·fri·sat : class 추가 --></h4>
		<ul class='catalog_history edit'>
			<c:forEach items="${listRecent2}" var="l" varStatus="st">
				<li class='${l.rcntGbn} <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">																		
											<c:if test="${l.prdtStatCode eq 'C0313' || l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">sold_out</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">																		
											<c:if test="${l.rcrdStat eq '2' || l.rcrdStat eq '3' || l.rcrdStat eq '4'}">sold_out</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">sold_out</c:if>'>
					<input type="hidden" name="sellPrdtBcode" value="${l.sellPrdtBcode}"/>																											
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="/p/${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_02'}">
						<a href="/ht/biz/bizSearchMain?searchTerm=${l.prdtName}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_03'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_04'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="/ht/product/detail?barcode=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>													
						<c:choose>
							<c:when test="${l.rcntGbn eq 'ic_01'}">
								<i>
									<c:if test="${l.sellPrdtGbn ne 'R' && l.sellPrdtGbn ne 'D'}"><ui:image src="${l.productImageUrl}" server="product" size="150" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" width="60" alt="${fn:escapeXml(l.prdtName)}" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
								</i>														
								<div class="desc_type01">
									<h2>[${l.brandName}] ${fn:escapeXml(l.prdtName)}</h2>
									<p>
										<fmt:parseNumber var="rate" integerOnly="true" type="number" value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}"/>
										<span class='font_t percent'><c:if test="${rate > 0}">${rate}%</c:if></span>
										<span class='font_t'><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
									</p>
								</div>
							</c:when>
							<c:otherwise>
								<div class="desc_type02">
									<h2>${fn:escapeXml(l.prdtName)}</h2>
								</div>
							</c:otherwise>
						</c:choose>													
					</a>
					<a href="javascript:" class='chk_delete'></a>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt > 0}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="javascript:" onclick="addBizWishBrand('${l.sellPrdtBcode}');return false;" class='btn_like<c:if test="${brand.wishUserPrdtCnt > 0}"> on</c:if>' id="${l.sellPrdtBcode}"><span>좋아요</span></a><!-- 활성화시 on : class 추가 -->
					</c:if>
					<div class="run_out <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">
											<c:if test="${l.prdtStatCode eq 'C0313'}">out01</c:if>
											<c:if test="${l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">out02</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">
											<c:if test="${l.rcrdStat eq '2'}">out01</c:if>
											<c:if test="${l.rcrdStat eq '3' || l.rcrdStat eq '4'}">out02</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">out03</c:if>"><!-- 품절유형 out01 ~ 03 : class 추가 -->
						<span class='out01'>일시<br>품절</span>
						<span class='out02'>품절</span>
						<span class='out03'>종료</span>
					</div>												
				</li>
			</c:forEach>
		</ul>
</div>							
</c:if>
<c:if test="${not empty listRecent3}">
	<div class="box_history pd_list" id="listRecent3">
		<h4 class='lst font_t'><span class='year'>${listRecent3[0].yyyy}</span> ${fn:substring(fn:trim(listRecent3[0].mmdd), 0, 2)} <em>${fn:substring(fn:trim(listRecent3[0].mmdd), 3, 5)}</em> <i class='${listRecent3[0].yoil}'></i><!-- sun·mon·tue·wed·thur·fri·sat : class 추가 --></h4>
		<ul class='catalog_history edit'>
			<c:forEach items="${listRecent3}" var="l" varStatus="st">										
				<li class='${l.rcntGbn} <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">																		
											<c:if test="${l.prdtStatCode eq 'C0313' || l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">sold_out</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">																		
											<c:if test="${l.rcrdStat eq '2' || l.rcrdStat eq '3' || l.rcrdStat eq '4'}">sold_out</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">sold_out</c:if>'>
					<input type="hidden" name="sellPrdtBcode" value="${l.sellPrdtBcode}"/>																
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="/p/${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_02'}">
						<a href="/ht/biz/bizSearchMain?searchTerm=${l.prdtName}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_03'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_04'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="/ht/product/detail?barcode=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
						<c:choose>
							<c:when test="${l.rcntGbn eq 'ic_01'}">
								<i>
									<c:if test="${l.sellPrdtGbn ne 'R' && l.sellPrdtGbn ne 'D'}"><ui:image src="${l.productImageUrl}" server="product" size="150" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" width="60" alt="${fn:escapeXml(l.prdtName)}" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
								</i>														
								<div class="desc_type01">
									<h2>[${l.brandName}] ${fn:escapeXml(l.prdtName)}</h2>
									<p>
										<fmt:parseNumber var="rate" integerOnly="true" type="number" value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}"/>
										<span class='font_t percent'><c:if test="${rate > 0}">${rate}%</c:if></span>
										<span class='font_t'><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
									</p>
								</div>
							</c:when>
							<c:otherwise>
								<div class="desc_type02">
									<h2>${fn:escapeXml(l.prdtName)}</h2>
								</div>
							</c:otherwise>
						</c:choose>													
					</a>
					<a href="javascript:" class='chk_delete'></a>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt > 0}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="javascript:" onclick="addBizWishBrand('${l.sellPrdtBcode}');return false;" class='btn_like<c:if test="${brand.wishUserPrdtCnt > 0}"> on</c:if>' id="${l.sellPrdtBcode}"><span>좋아요</span></a><!-- 활성화시 on : class 추가 -->
					</c:if>
					<div class="run_out <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">
											<c:if test="${l.prdtStatCode eq 'C0313'}">out01</c:if>
											<c:if test="${l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">out02</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">
											<c:if test="${l.rcrdStat eq '2'}">out01</c:if>
											<c:if test="${l.rcrdStat eq '3' || l.rcrdStat eq '4'}">out02</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">out03</c:if>"><!-- 품절유형 out01 ~ 03 : class 추가 -->
						<span class='out01'>일시<br>품절</span>
						<span class='out02'>품절</span>
						<span class='out03'>종료</span>
					</div>												
				</li>
			</c:forEach>
		</ul>
	</div>							
</c:if>
<c:if test="${not empty listRecent4}">
	<div class="box_history pd_list" id="listRecent4">
		<h4 class='lst font_t'><span class='year'>${listRecent4[0].yyyy}</span> ${fn:substring(fn:trim(listRecent4[0].mmdd), 0, 2)} <em>${fn:substring(fn:trim(listRecent4[0].mmdd), 3, 5)}</em> <i class='${listRecent4[0].yoil}'></i><!-- sun·mon·tue·wed·thur·fri·sat : class 추가 --></h4>
		<ul class='catalog_history edit'>
			<c:forEach items="${listRecent4}" var="l" varStatus="st">
				<li class='${l.rcntGbn} <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">																		
											<c:if test="${l.prdtStatCode eq 'C0313' || l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">sold_out</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">																		
											<c:if test="${l.rcrdStat eq '2' || l.rcrdStat eq '3' || l.rcrdStat eq '4'}">sold_out</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">sold_out</c:if>'>
					<input type="hidden" name="sellPrdtBcode" value="${l.sellPrdtBcode}"/>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="/p/${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_02'}">
						<a href="/ht/biz/bizSearchMain?searchTerm=${l.prdtName}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_03'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_04'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="/ht/product/detail?barcode=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
						<c:choose>
							<c:when test="${l.rcntGbn eq 'ic_01'}">
								<i>
									<c:if test="${l.sellPrdtGbn ne 'R' && l.sellPrdtGbn ne 'D'}"><ui:image src="${l.productImageUrl}" server="product" size="150" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" width="60" alt="${fn:escapeXml(l.prdtName)}" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
								</i>														
								<div class="desc_type01">
									<h2>[${l.brandName}] ${fn:escapeXml(l.prdtName)}</h2>
									<p>
										<fmt:parseNumber var="rate" integerOnly="true" type="number" value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}"/>
										<span class='font_t percent'><c:if test="${rate > 0}">${rate}%</c:if></span>
										<span class='font_t'><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
									</p>
								</div>
							</c:when>
							<c:otherwise>
								<div class="desc_type02">
									<h2>${fn:escapeXml(l.prdtName)}</h2>
								</div>
							</c:otherwise>
						</c:choose>													
					</a>
					<a href="javascript:" class='chk_delete'></a>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt > 0}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="javascript:" onclick="addBizWishBrand('${l.sellPrdtBcode}');return false;" class='btn_like<c:if test="${brand.wishUserPrdtCnt > 0}"> on</c:if>' id="${l.sellPrdtBcode}"><span>좋아요</span></a><!-- 활성화시 on : class 추가 -->
					</c:if>
					<div class="run_out <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">
											<c:if test="${l.prdtStatCode eq 'C0313'}">out01</c:if>
											<c:if test="${l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">out02</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">
											<c:if test="${l.rcrdStat eq '2'}">out01</c:if>
											<c:if test="${l.rcrdStat eq '3' || l.rcrdStat eq '4'}">out02</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">out03</c:if>"><!-- 품절유형 out01 ~ 03 : class 추가 -->
						<span class='out01'>일시<br>품절</span>
						<span class='out02'>품절</span>
						<span class='out03'>종료</span>
					</div>												
				</li>
			</c:forEach>
		</ul>
	</div>							
</c:if>
<c:if test="${not empty listRecent5}">
	<div class="box_history pd_list" id="listRecent5">
		<h4 class='lst font_t'><span class='year'>${listRecent5[0].yyyy}</span> ${fn:substring(fn:trim(listRecent5[0].mmdd), 0, 2)} <em>${fn:substring(fn:trim(listRecent5[0].mmdd), 3, 5)}</em> <i class='${listRecent5[0].yoil}'></i><!-- sun·mon·tue·wed·thur·fri·sat : class 추가 --></h4>
		<ul class='catalog_history edit'>
			<c:forEach items="${listRecent5}" var="l" varStatus="st">
				<li class='${l.rcntGbn} <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">																		
											<c:if test="${l.prdtStatCode eq 'C0313' || l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">sold_out</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">																		
											<c:if test="${l.rcrdStat eq '2' || l.rcrdStat eq '3' || l.rcrdStat eq '4'}">sold_out</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">sold_out</c:if>'>
					<input type="hidden" name="sellPrdtBcode" value="${l.sellPrdtBcode}"/>					
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="/p/${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_02'}">
						<a href="/ht/biz/bizSearchMain?searchTerm=${l.prdtName}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_03'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_04'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="/ht/product/detail?barcode=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>																										
						<c:choose>
							<c:when test="${l.rcntGbn eq 'ic_01'}">
								<i>
									<c:if test="${l.sellPrdtGbn ne 'R' && l.sellPrdtGbn ne 'D'}"><ui:image src="${l.productImageUrl}" server="product" size="150" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" width="60" alt="${fn:escapeXml(l.prdtName)}" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
								</i>														
								<div class="desc_type01">
									<h2>[${l.brandName}] ${fn:escapeXml(l.prdtName)}</h2>
									<p>
										<fmt:parseNumber var="rate" integerOnly="true" type="number" value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}"/>
										<span class='font_t percent'><c:if test="${rate > 0}">${rate}%</c:if></span>
										<span class='font_t'><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
									</p>
								</div>
							</c:when>
							<c:otherwise>
								<div class="desc_type02">
									<h2>${fn:escapeXml(l.prdtName)}</h2>
								</div>
							</c:otherwise>
						</c:choose>													
					</a>
					<a href="javascript:" class='chk_delete'></a>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt > 0}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="javascript:" onclick="addBizWishBrand('${l.sellPrdtBcode}');return false;" class='btn_like<c:if test="${brand.wishUserPrdtCnt > 0}"> on</c:if>' id="${l.sellPrdtBcode}"><span>좋아요</span></a><!-- 활성화시 on : class 추가 -->
					</c:if>
					<div class="run_out <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">
											<c:if test="${l.prdtStatCode eq 'C0313'}">out01</c:if>
											<c:if test="${l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">out02</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">
											<c:if test="${l.rcrdStat eq '2'}">out01</c:if>
											<c:if test="${l.rcrdStat eq '3' || l.rcrdStat eq '4'}">out02</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">out03</c:if>"><!-- 품절유형 out01 ~ 03 : class 추가 -->
						<span class='out01'>일시<br>품절</span>
						<span class='out02'>품절</span>
						<span class='out03'>종료</span>
					</div>												
				</li>
			</c:forEach>
		</ul>
	</div>							
</c:if>
<c:if test="${not empty listRecent6}">
	<div class="box_history pd_list" id="listRecent6">
		<h4 class='lst font_t'><span class='year'>${listRecent6[0].yyyy}</span> ${fn:substring(fn:trim(listRecent6[0].mmdd), 0, 2)} <em>${fn:substring(fn:trim(listRecent6[0].mmdd), 3, 5)}</em> <i class='${listRecent6[0].yoil}'></i><!-- sun·mon·tue·wed·thur·fri·sat : class 추가 --></h4>
		<ul class='catalog_history edit'>
			<c:forEach items="${listRecent6}" var="l" varStatus="st">
				<li class='${l.rcntGbn} <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">																		
											<c:if test="${l.prdtStatCode eq 'C0313' || l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">sold_out</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">																		
											<c:if test="${l.rcrdStat eq '2' || l.rcrdStat eq '3' || l.rcrdStat eq '4'}">sold_out</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">sold_out</c:if>'>	
					<input type="hidden" name="sellPrdtBcode" value="${l.sellPrdtBcode}"/>																
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="/p/${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_02'}">
						<a href="/ht/biz/bizSearchMain?searchTerm=${l.prdtName}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_03'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_04'}">
						<a href="/ht/biz/eventDetail?eventId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="/ht/biz/hot/brandDetail?brandId=${l.sellPrdtBcode}" class='btn_erase'>
					</c:if>
						<c:choose>
							<c:when test="${l.rcntGbn eq 'ic_01'}">
								<i>
									<c:if test="${l.sellPrdtGbn ne 'R' && l.sellPrdtGbn ne 'D'}"><ui:image src="${l.productImageUrl}" server="product" size="150" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
									<c:if test="${l.sellPrdtGbn eq 'R' || l.sellPrdtGbn eq 'D'}"><ui:image rcrdCd="${l.rcrdCd}" prdtGbn="${l.sellPrdtGbn}" ratingCode="A" width="60" alt="${fn:escapeXml(l.prdtName)}" ssl="${pageContext.request.scheme eq 'http'?'N':'Y'}"/></c:if>
								</i>														
								<div class="desc_type01">
									<h2>[${l.brandName}] ${fn:escapeXml(l.prdtName)}</h2>
									<p>
										<fmt:parseNumber var="rate" integerOnly="true" type="number" value="${hfn:rate(l.prdtSellPrice,l.lastCpnPrice)}"/>
										<span class='font_t percent'><c:if test="${rate > 0}">${rate}%</c:if></span>
										<span class='font_t'><fmt:formatNumber type="number">${l.lastCpnPrice}</fmt:formatNumber></span>
									</p>
								</div>
							</c:when>
							<c:otherwise>
								<div class="desc_type02">
									<h2>${fn:escapeXml(l.prdtName)}</h2>
								</div>
							</c:otherwise>
						</c:choose>													
					</a>
					<a href="javascript:" class='chk_delete'></a>
					<c:if test="${l.rcntGbn eq 'ic_01'}">
						<a href="javascript:" onclick="addBizWishProduct(this);return false;" class="btn_like<c:if test="${l.wishUserPrdtCnt > 0}"> active</c:if>" prdtId="${l.sellPrdtBcode}"><span>좋아요</span></a>
					</c:if>
					<c:if test="${l.rcntGbn eq 'ic_05'}">
						<a href="javascript:" onclick="addBizWishBrand('${l.sellPrdtBcode}');return false;" class='btn_like<c:if test="${brand.wishUserPrdtCnt > 0}"> on</c:if>' id="${l.sellPrdtBcode}"><span>좋아요</span></a><!-- 활성화시 on : class 추가 -->
					</c:if>
					<div class="run_out <c:if test="${fn:contains('P,G,S', l.sellPrdtGbn)}">
											<c:if test="${l.prdtStatCode eq 'C0313'}">out01</c:if>
											<c:if test="${l.prdtStatCode eq 'C0314' || l.prdtStatCode eq 'C0315'}">out02</c:if>																		
										</c:if>
										<c:if test="${fn:contains('R,D,C', l.sellPrdtGbn)}">
											<c:if test="${l.rcrdStat eq '2'}">out01</c:if>
											<c:if test="${l.rcrdStat eq '3' || l.rcrdStat eq '4'}">out02</c:if>
										</c:if>
										<c:if test="${l.prdtStatCode eq 'N'}">out03</c:if>"><!-- 품절유형 out01 ~ 03 : class 추가 -->
						<span class='out01'>일시<br>품절</span>
						<span class='out02'>품절</span>
						<span class='out03'>종료</span>
					</div>												
				</li>
			</c:forEach>
		</ul>
	</div>
</c:if>
<script type="text/javascript">
$(document).ready(function(){
	historyDelete();//delete
	
	// 편집 이벤트
	$('.txt_blue').unbind().on('click', function(){		
		if($('.lastest_prd .history_inner').hasClass('case01')){
			$('.lastest_prd .history_inner').addClass('case02');
			$('.lastest_prd .history_inner').removeClass('case01');
			$('.catalog_history').addClass('cancel');
			$('.catalog_history').removeClass('edit');
			$('.catalog_history').find('li').addClass('chk_off');			
		}else{
			$('.lastest_prd .history_inner').addClass('case01');
			$('.lastest_prd .history_inner').removeClass('case02');
			$('.catalog_history').addClass('edit');
			$('.catalog_history').removeClass('cancel');
			$('.catalog_history').find('li').removeClass('chk_off');
		}
	});
	
	// 최근 본 상품 필터값 설정시
    $('.history_inner .list_kind li').click(function(){    	
    	$(this).parent('li').toggleClass('active');
   
    	// 1. 클릭한 구분값 처리
    	var gbnLen = $('#filterDiv li').length;
    	var gbnActiveLen = $('#filterDiv .active').length;
    	    	
    	// 활성화된 필터값이 있을 경우
    	if(gbnActiveLen > 0){    		    		
    		for(var i=0; i<gbnLen; i++){
        		// 구분값이 활성화되어 있을 경우 구분값을 가져옴
        		if($('.category_type li:eq('+i+')').hasClass("active")){
        			var gbnNm = $('.category_type li:eq('+i+')').find('i').attr('class');
        			gbnNm = gbnNm.substr(0,5);        			
        			$(".area_overflow ."+gbnNm).removeClass('hide');
        		}else{
        			var gbnNm = $('.category_type li:eq('+i+')').find('i').attr('class');
        			gbnNm = gbnNm.substr(0,5);
        			$(".area_overflow ."+gbnNm).addClass('hide');
        		}               		
        	}
    	}else{	// 모든 필터값이 비활성화일경우
    		$('.box_history ul li').removeClass('hide');	
    	}
    	
		var listLiLen = $('.box_history li').length;	// 리스트 아이템 수
		var listActiveLen = $('.box_history .hide').length;		// 감춰진 아이템 수
		
		if(listLiLen == listActiveLen){        			
// 			$('.vacant_history').show();
			$('.box_history').hide();
			$('.area_overflow').addClass('no');
		}else{
// 			$('.vacant_history').hide();
			$('.area_overflow').removeClass('no');
			$('.box_history').show();
		}
    	    	    	
    	// 날짜별 영역 컨트롤
    	fn_dayByDayControl();
    
    });
});
</script>